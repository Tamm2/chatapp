{% extends "myapp/base.html" %}
{% load static %}

{% block extra_style %}
<link rel="stylesheet" href="{% static 'myapp/css/login.css' %}">
{% endblock %}

{% block header-title %}ログイン{% endblock %}

{% block content %}
{% if user.is_authenticated %}
        <a href="{% url 'account_logout' %}">Logout</a>
        <a href="{% url 'two-factor-setup' %}">Setup 2FA</a>
    {% else %}
        <a href="{% url 'account_login' %}">Login</a>
    {% endif %}
{% if form.errors  %}
<div class="login-error-message">
    <span>ユーザーID, パスワードが一致しません．</span>
</div>
{% endif %}
<form method="POST" action="{% url 'login_view' %}" class="login-form">
    {% csrf_token %}
    <div class="login-form__username">
        <label>ユーザーネーム:</label>
        {{ form.username }}
        {{ form.username.errors }}
    </div>
    <div class="login-form__password">
        <label>パスワード:</label>
        {{ form.password }}
        {{ form.password.errors }}
    </div>
    <button type="submit" class="login-form__submit">ログイン</button>
</form>
{% endblock %}

{% block footer %}{% endblock %}